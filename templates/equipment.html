{% extends "base.html" %}

{% block title %}Equipment Management - Equipment Loan System{% endblock %}

{% block content %}
<div class="equipment-page">
    <h2>Equipment Management</h2>
    
    <div class="add-equipment-form">
        <h3>Add New Equipment</h3>
        <form id="add-equipment-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="name">Equipment Name *</label>
                    <input type="text" id="name" name="name" placeholder="e.g., Laptop" required>
                </div>
                <div class="form-group">
                    <label for="model">Model/Brand</label>
                    <input type="text" id="model" name="model" placeholder="e.g., MacBook Pro 16, Dell XPS 13">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="serial">Serial Number *</label>
                    <input type="text" id="serial" name="serial_number" placeholder="e.g., ABC123456" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="category">Category *</label>
                    <select id="category-select" name="category_select" onchange="updateCategory()">
                        <option value="">Select a category...</option>
                        <option value="Laptop">Laptop</option>
                        <option value="Desktop">Desktop</option>
                        <option value="Tablet">Tablet</option>
                        <option value="Mobile Phones">Mobile Phones</option>
                        <option value="Monitor">Monitor</option>
                        <option value="Keyboard">Keyboard</option>
                        <option value="Mouse">Mouse</option>
                        <option value="Headphones">Headphones</option>
                        <option value="Storage">Storage</option>
                        <option value="Accessory">Accessory</option>
                        <option value="Other">Other / Custom...</option>
                    </select>
                    <input type="text" id="category" name="category" placeholder="Or type custom category" required>
                </div>
                <div class="form-group">
                    <label for="condition">Condition</label>
                    <select id="condition" name="condition" class="condition-select">
                        <option value="">Select condition...</option>
                        <option value="Excellent">‚úì Excellent - Like new, no issues</option>
                        <option value="Good">‚úì Good - Minor wear, fully functional</option>
                        <option value="Fair">‚ö† Fair - Some damage, still usable</option>
                        <option value="Poor">‚úó Poor - Significant issues</option>
                        <option value="Damaged">‚úó Damaged - Not operational</option>
                    </select>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Add Equipment</button>
        </form>
    </div>

    <div class="equipment-list">
        <h3>Equipment Inventory</h3>
        
        <!-- Search and Filter Section -->
        <div class="search-filter-section">
            <div class="search-bar">
                <input type="text" id="search-query" placeholder="Search by name, model, or serial number..." class="search-input">
                <button id="search-btn" class="btn btn-secondary">üîç Search</button>
                <button id="clear-search-btn" class="btn btn-secondary">Clear</button>
            </div>
            
            <div class="filters">
                <div class="filter-group">
                    <label for="filter-category">Category:</label>
                    <select id="filter-category" class="filter-select">
                        <option value="">All Categories</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-condition">Condition:</label>
                    <select id="filter-condition" class="filter-select">
                        <option value="">All Conditions</option>
                        <option value="Excellent">Excellent</option>
                        <option value="Good">Good</option>
                        <option value="Fair">Fair</option>
                        <option value="Poor">Poor</option>
                        <option value="Damaged">Damaged</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-status">Status:</label>
                    <select id="filter-status" class="filter-select">
                        <option value="">All Statuses</option>
                        <option value="Available">Available</option>
                        <option value="Borrowed">Borrowed</option>
                        <option value="Maintenance">Maintenance</option>
                    </select>
                </div>
            </div>
        </div>
        
        <!-- Pagination Controls -->
        <div id="pagination-top" class="pagination-controls"></div>
        
        <table id="equipment-table" class="data-table">
            <thead>
                <tr>
                    <th>Equipment Name</th>
                    <th>Model/Brand</th>
                    <th>Serial Number</th>
                    <th>Category</th>
                    <th>Status</th>
                    <th>Condition</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <p id="no-equipment" class="empty-message">No equipment added yet</p>
        
        <!-- Pagination Controls -->
        <div id="pagination-bottom" class="pagination-controls"></div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/equipment.js') }}"></script>
{% endblock %}
